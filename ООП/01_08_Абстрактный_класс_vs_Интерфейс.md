# Абстрактный класс vs Интерфейс



> Класс называется **абстрактным**, если его единственное назначение — определить общий интерфейс для всех своих подклассов.
>
> —[Приемы объектно-ориентированного проектирования. Паттерны проектирования - GOF (глава 1.6, с. 29)](https://www.amazon.com/Design-Patterns-Object-Oriented-Addison-Wesley-Professional-ebook/dp/B000SEIBB8)



> Множество сигнатур всех определенных для объекта операций называется **интерфейсом** этого объекта.
>
> — [Приемы объектно-ориентированного проектирования. Паттерны проектирования - GOF (глава 1.6, с. 27)](https://www.amazon.com/Design-Patterns-Object-Oriented-Addison-Wesley-Professional-ebook/dp/B000SEIBB8)

Исходя из этих определений можно понять, что суть абстрактного класса — определить общий интерфейс для родственных объектов, в то время как интерфейс — это лишь набор определенных открытых методов.

В ООП языках есть специальное слово для определения абстрактного класса, чаще всего — **abstract**. 

```c#
abstract class Sword {} // C#, C++, Java
```

Некоторые языки поддерживаю ключевое слово **interface**

```c#
interface Sword {}
```





Абстрактный класс — полуфабрикат, интерфейс — идея полуфабриката.

Становясь рыцарем вы даете клятву, что будете смелым, верным и доблестным рыцарем. Так же с интерфейсами. Наследуясь от интерфейса вы клянётесь, что реализуете все методы и свойства, которые есть в интерфейсе.



Абстрактный класс используется для создания иерархии классов с похожим поведением.

Интерфейс используется для реализации контракта методов или свойств в классах, которые никак с друг другом не связаны.

Сигнатура метода — это название метода и входящие параметры.

```c#
GetFullName (string firstName, string lastName)
```

Контракт метода — это название метода, параметры с учётом их порядка и возвращаемое значение.

```c#
string GetFullName (string firstName, string lastName) {}
```



Суть интерфейса, чтобы обязать класс реализовать все его методы. Это дает гарантию, что класс реализовывает определенное поведение.

Зачем это нужно? К примеру:

> Операционная система UNIX требует, чтобы каждый драйвер устройства ввода/вывода реализовал пять стандартных функций: open, close, read, write и seek. Сигнатуры этих функций должны совпадать для всех драйверов.
>
> — Чистая архитектура. Роберт Мартин

То есть есть гарантия, что любое устройство ввода/вывода поддерживает определенное поведение, а вот как оно реализовано не так важно; нам не интересно как именно клавиатура или мышь считывают информацию, нам интересно, что они нам возвращают.

## Итоги

Когда используют абстрактный класс:

1. Когда необходимо определить общее поведение для родственных объектов.
2. Когда все дочерние элементы, на всех уровнях, должны обладать базовым поведением. Если это поведение необходимо будет изменить, достаточно будет изменить базовый класс.
3. Когда необходимо предоставить шаблон класса, но предоставить пользователю самому частично его закончить.

Когда используют интерфейс:

1. Когда необходимо определить одинаковые методы для объектов, которые никак не связаны с друг другом.
2. Когда необходимо создать стабильный интерфейс взаимодействия с компонентом.
3. Чтобы снизить зависимость от конкретной реализации.
4. Чтобы позволить пользователям самим определять какая реализация им нужна.